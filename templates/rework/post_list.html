{% extends 'rework/base_rework.html'%}

{% block content %}
    <h1>Post list</h1>
    <form method="POST" class="d-flex" role="search" action="{% url 'post_search' %}">
        {% csrf_token %}
        <input class="form-control me-2" type="search" placeholder="Search" name="searched">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    <hr>
    <ul>
        {% for post in posts %}
        <li>
            <a href="{% url 'post_detail' post.pk %}">
                {{ post.title }}
            </a>
            -
            {{ post.author.first_name }}
            {{ post.author.last_name }}
            -
            {{ post.date_added }}
            {% if user.is_authenticated %}
            - 
            <a href="{% url 'update_post' post.pk %}">(Edit)</a>
            <a href="{% url 'delete_post' post.pk %}">(Delete)</a>
            {% endif %}
            <br>
            {{ post.body }}
        </li>
        {% endfor %}
    </ul>
{% endblock %}